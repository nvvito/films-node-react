{"version":3,"sources":["store/action.js","components/search.js","components/menu.js","pages/404.js","components/pagination.js","components/sort.js","pages/films.js","components/breadcrumb.js","components/tagGroup.js","pages/film.js","pages/add.js","pages/import.js","components/router.js","store/reduser.js","store/store.js","App.js","index.js"],"names":["fetchFilms","page","sort_field","sort_direction","dispatch","type","payload","fetch","concat","then","res","json","data","setTimeout","status","list","message","result","count","Number","error","catch","err","console","log","fetchFilm","id","filmChangeName","e","target","value","filmChangeDate","valueOf","filmChangeFormat","filmChangeTag","saveFilm","history","method","headers","content-type","body","JSON","stringify","push","_id","success","updateFilm","deleteFilm","openAdd","openFilm","getItemsAsync","searchValue","name","response","importData","Option","AutoComplete","Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","renderResult","map","el","react_default","a","createElement","key","react_router_dom","className","to","moment","release","format","bind","assertThisInitialized","auto_complete","dropdownMatchSelectWidth","dropdownStyle","width","placeholder","optionLabelProp","onSearch","dataSource","onSelect","input","suffix","icon","React","Component","connect","state","search","bindActionCreators","PageMenu","menu","mode","theme","selectable","Item","style","float","Page404","Fragment","es_result","title","subTitle","extra","es_button","films","_ref","pagination","defaultPageSize","total","current","onChange","sort_Field","sort_Direction","Field","es_radio","Group","Button","Direction","_ref2","Films","_this$props","load","films_LoadData","size","films_FilmsList","LoadData","i","skeleton","loading","active","FilmsList","shape","sort","es_list","itemLayout","renderItem","item","films_ListElement","components_pagination","ListElement","_ref3","actors","arr","f_name","l_name","surname","length","actions","Meta","description","FilmBreadcrumb","breadcrumbs","es_breadcrumb","padding","itemRender","route","params","routes","paths","indexOf","breadcrumbName","path","EditableTagGroup","inputVisible","inputValue","handleClose","removedTag","filter","actor","showInput","setState","focus","handleInputChange","handleInputConfirm","split","toConsumableArray","saveInputRef","_this2","_this$state","tag","isLongTag","tagElem","es_tag","closable","onClose","slice","tooltip","ref","onBlur","onPressEnter","onClick","background","borderStyle","Select","Film","match","nextProps","breadcrumb","components_breadcrumb","film_LoadCard","film_RenderCard","film","LoadCard","card","margin","popconfirm","disabled","RenderCard","onConfirm","okText","cancelText","date_picker","disabledDate","endOf","es_select","film_Option","tagGroup","FilmAdd","add_LoadCard","add_RenderCard","add_Option","FileInput","handleSubmit","fileInput","createRef","event","preventDefault","files","pop","toLowerCase","reader","FileReader","readAsText","onload","trim","elements","spin","indicator","fontSize","import","PageRouter","components_menu","react_router","exact","component","Import","Add","initialState","middleware","thunk","store","createStore","arguments","undefined","action","_objectSpread","applyMiddleware","apply","App","es","router","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5aef7601.chunk.js","sourcesContent":["import { message } from 'antd'\r\n\r\n//films\r\nexport const fetchFilms = (page, sort_field, sort_direction) => dispatch => {\r\n  dispatch({\r\n    type: 'START_LOAD_FILMS', payload: {\r\n      page: page,\r\n      sort_field: sort_field,\r\n      sort_direction: sort_direction\r\n    }\r\n  })\r\n  fetch(`/api/film/?page=${page}&sort_field=${sort_field}&sort_direction=${sort_direction}`)\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      setTimeout(() => {\r\n        if (data.status) {\r\n          dispatch({\r\n            type: 'SUCCESS_LOAD_FILMS',\r\n            payload: {\r\n              list: data.message.result,\r\n              count: Number(data.message.count),\r\n            }\r\n          })\r\n        } else {\r\n          message.error('Error Load Data!')\r\n          dispatch({ type: 'FAILED_LOAD_FILMS' })\r\n        }\r\n      }, 500)\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n      message.error('Error Load Data!')\r\n      dispatch({ type: 'FAILED_LOAD_FILMS' })\r\n    })\r\n}\r\n\r\nexport const fetchFilm = id => dispatch => {\r\n  dispatch({ type: 'START_LOAD_FILM' })\r\n  fetch(`/api/film/${id}`)\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      setTimeout(() => {\r\n        if (data.status) {\r\n          dispatch({\r\n            type: 'SUCCESS_LOAD_FILM',\r\n            payload: data.message\r\n          })\r\n        } else {\r\n          message.error('Error Load Data!')\r\n          dispatch({ type: 'FAILED_LOAD_FILM' })\r\n        }\r\n      }, 500)\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n      message.error('Error Load Data!')\r\n      dispatch({ type: 'FAILED_LOAD_FILM' })\r\n    })\r\n}\r\n\r\nexport const filmChangeName = e => ({ type: 'CHANGE_NAME', payload: e.target.value })\r\n\r\nexport const filmChangeDate = value => ({ type: 'CHANGE_DATE', payload: value ? value.valueOf() : null })\r\n\r\nexport const filmChangeFormat = value => ({ type: 'CHANGE_FORMAT', payload: value })\r\n\r\nexport const filmChangeTag = value => ({ type: 'CHANGE_TAG', payload: value })\r\n\r\nexport const saveFilm = (data, history) => dispatch => {\r\n  dispatch({ type: 'START_LOAD_FILM' })\r\n  fetch('/api/film/', {\r\n    method: 'post',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      if (data.status) setTimeout(() => {\r\n        dispatch({\r\n          type: 'SUCCESS_LOAD_FILM',\r\n          payload: data.message\r\n        })\r\n        history.push(`/${data.message._id}`)\r\n        message.success('Success Create!')\r\n      }, 500)\r\n      else {\r\n        console.log(data)\r\n        message.error('Create Film Error!')\r\n        dispatch({ type: 'FAILED_CREATE' })\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n      message.error('Create Film Error!')\r\n      dispatch({ type: 'FAILED_CREATE' })\r\n    })\r\n}\r\n\r\nexport const updateFilm = (_id, data) => dispatch => {\r\n  dispatch({ type: 'START_LOAD_FILM' })\r\n  fetch(`/api/film/${_id}`, {\r\n    method: 'put',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      if (data.status) setTimeout(() => {\r\n        dispatch({\r\n          type: 'SUCCESS_LOAD_FILM',\r\n          payload: data.message\r\n        })\r\n        message.success('Success Update!')\r\n      }, 500)\r\n      else {\r\n        console.log(data)\r\n        message.error('Error Update!')\r\n        dispatch({ type: 'FAILED_UPDATE' })\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n      message.error('Error Update!')\r\n      dispatch({ type: 'FAILED_UPDATE' })\r\n    })\r\n}\r\n\r\nexport const deleteFilm = (_id, history) => dispatch => {\r\n  dispatch({ type: 'START_LOAD_FILM' })\r\n  fetch(`/api/film/${_id}`, {\r\n    method: 'delete',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n    }\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      if (!data.error) setTimeout(() => {\r\n        dispatch({ type: 'DELETE_FILM' })\r\n        history.push('/')\r\n        message.success('Success Delete!')\r\n      }, 500)\r\n      else {\r\n        console.log(data)\r\n        message.error('Error Delete!')\r\n        dispatch({ type: 'FAILED_DELETE' })\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n      message.error('Error Delete!')\r\n      dispatch({ type: 'FAILED_DELETE' })\r\n    })\r\n}\r\n\r\nexport const openAdd = () => dispatch => {\r\n  dispatch({ type: 'OPEN_ADD_START' })\r\n  setTimeout(() => dispatch({ type: 'OPEN_ADD_END' }), 200)\r\n}\r\n\r\n//search\r\nexport const openFilm = () => ({ type: 'OPEN_FILM' })\r\n\r\nexport const getItemsAsync = searchValue => dispatch => {\r\n  dispatch({ type: 'CHANGE_SEARCH_INPUT', payload: searchValue })\r\n  fetch(`/api/film/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ name: searchValue })\r\n  })\r\n    .then(response => response.json())\r\n    .then(result => {\r\n      if (result.status) dispatch({ type: 'CHANGE_SEARCH_RESULT', payload: result.message })\r\n      else {\r\n        console.log(result)\r\n        message.error('Search Error!')\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n      message.error('Search Error!')\r\n    })\r\n}\r\n//import\r\nexport const importData = data => dispatch => {\r\n  dispatch({ type: 'IMPORT_START' })\r\n  fetch(`/api/film/import`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ data: data })\r\n  })\r\n    .then(response => response.json())\r\n    .then(result => {\r\n      setTimeout(() => {\r\n        if (result.status) {\r\n          message.success('Import success!')\r\n          dispatch({ type: 'IMPORT_END' })\r\n        }\r\n        else {\r\n          console.log(result)\r\n          message.error('Import Error!')\r\n          dispatch({ type: 'IMPORT_END' })\r\n        }\r\n      }, 500)\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n      message.error('Import Error!')\r\n      dispatch({ type: 'IMPORT_END' })\r\n    })\r\n}","import React from 'react'\r\nimport { Icon, AutoComplete, Input } from 'antd'\r\nimport moment from 'moment'\r\nimport { Link } from \"react-router-dom\"\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n//action\r\nimport { openFilm, getItemsAsync } from '../store/action'\r\n\r\nconst { Option } = AutoComplete\r\n\r\nclass Search extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.getItemsAsync = this.getItemsAsync.bind(this)\r\n        this.renderResult = this.renderResult.bind(this)\r\n    }\r\n    getItemsAsync = searchValue => {\r\n        if (searchValue) {\r\n            this.props.getItemsAsync(searchValue)\r\n        } else this.props.openFilm()\r\n    }\r\n    renderResult = data => {\r\n        return (\r\n            data.map(el =>\r\n                <Option key={el._id} value={el._id}>\r\n                    <Link className=\"search-item\" to={`/${el._id}`}>\r\n                        <div className=\"search-item-name\">\r\n                            <span>{`Name: `}</span>\r\n                            <span>{el.name}</span>\r\n                        </div>\r\n                        <div className=\"search-item-age\">\r\n                            <span>{`Release: `}</span>\r\n                            <span>{moment(el.release).format(\"YYYY-MM-DD\")}</span>\r\n                        </div>\r\n                    </Link>\r\n                </Option>\r\n            )\r\n        )\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <AutoComplete\r\n                    dropdownMatchSelectWidth={false}\r\n                    dropdownStyle={{ width: 100 }}\r\n                    placeholder=\"Search...\"\r\n                    optionLabelProp=\"value\"\r\n                    onSearch={this.getItemsAsync}\r\n                    dataSource={this.renderResult(this.props.result)}\r\n                    onSelect={this.props.openFilm}\r\n                    value={this.props.value}\r\n                >\r\n                    <Input suffix={<Icon type=\"search\" className=\"certain-category-icon\" />} />\r\n                </AutoComplete>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    value: state.search.value,\r\n    result: state.search.result\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    openFilm: bindActionCreators(openFilm, dispatch),\r\n    getItemsAsync: bindActionCreators(getItemsAsync, dispatch),\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search)","import React from 'react'\r\nimport { Menu, Icon } from 'antd'\r\nimport { NavLink } from \"react-router-dom\"\r\nimport Search from './search'\r\n\r\nconst PageMenu = () =>\r\n    <Menu mode=\"horizontal\" theme=\"dark\" selectable={false}>\r\n        <Menu.Item key=\"film\">\r\n            <NavLink to=\"/\">\r\n                <Icon type=\"video-camera\" />Films\r\n            </NavLink>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"Import\">\r\n        <NavLink to=\"/import\">\r\n                <Icon type=\"import\" />Import\r\n            </NavLink>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"search\" style={{ float: 'right' }}>\r\n            <Search />\r\n        </Menu.Item>\r\n    </Menu>\r\n\r\nexport default PageMenu","import React from 'react'\r\nimport { Result, Button, Icon } from 'antd'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nconst Page404 = () =>\r\n    <React.Fragment>\r\n        <Result\r\n            status=\"404\"\r\n            title=\"404\"\r\n            subTitle=\"Sorry, the page you visited does not exist.\"\r\n            extra={<Button type=\"primary\"><Link to='/'><Icon type=\"video-camera\" /> Films</Link></Button>}\r\n        />\r\n    </React.Fragment>\r\n\r\nexport default Page404","import React from 'react'\r\nimport { Pagination } from 'antd'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n//action\r\nimport { fetchFilms } from '../store/action'\r\n\r\nconst ListPagination = ({ count, page, fetchFilms, sort_field, sort_direction }) => \r\n    <Pagination defaultPageSize={5} total={count} current={page} onChange={page => fetchFilms(page, sort_field, sort_direction)} className='ListPagination' />\r\n\r\nconst mapStateToProps = state => ({\r\n    count: state.films.count,\r\n    page: state.films.page,\r\n    sort_field: state.films.sort_field,\r\n    sort_direction: state.films.sort_direction,\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchFilms: bindActionCreators(fetchFilms, dispatch),\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ListPagination)","import React from 'react'\r\nimport { Radio } from 'antd'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n//action\r\nimport { fetchFilms } from '../store/action'\r\n\r\nconst Sort = (props) => \r\n    <div className='sort-list'>\r\n        <Field {...props} />\r\n        <Direction {...props}/>\r\n    </div>\r\n\r\nconst mapStateToProps = state => ({\r\n    page: state.films.page,\r\n    sort_field: state.films.sort_field,\r\n    sort_direction: state.films.sort_direction,\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchFilms: bindActionCreators(fetchFilms, dispatch),\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Sort)\r\n\r\nconst Field = ({ page, sort_field, sort_direction, fetchFilms }) =>\r\n    <Radio.Group value={sort_field} onChange={(e) => fetchFilms(page, e.target.value, sort_direction)}>\r\n        <Radio.Button value=\"_id\">_id</Radio.Button>\r\n        <Radio.Button value=\"name\">name</Radio.Button>\r\n        <Radio.Button value=\"release\">release</Radio.Button>\r\n        <Radio.Button value=\"format\">format</Radio.Button>\r\n    </Radio.Group>\r\n\r\nconst Direction = ({ page, sort_field, sort_direction, fetchFilms }) =>\r\n    <Radio.Group value={sort_direction} onChange={(e) => fetchFilms(page, sort_field, e.target.value)}>\r\n        <Radio.Button value=\"asc\">asc</Radio.Button>\r\n        <Radio.Button value=\"desc\">desc</Radio.Button>\r\n    </Radio.Group>","import React from 'react'\r\nimport { List, Skeleton, Button } from 'antd'\r\nimport { Link } from \"react-router-dom\"\r\nimport moment from 'moment'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n//action\r\nimport { fetchFilms } from '../store/action'\r\n//component\r\nimport ListPagination from '../components/pagination'\r\nimport ListSort from '../components/sort'\r\n\r\n\r\nclass Films extends React.Component {\r\n    componentDidMount() {\r\n        this.props.fetchFilms(1, 'name', 'asc')\r\n    }\r\n    render() {\r\n        let { count, load, list } = this.props\r\n        return (\r\n            <div className='list-body'>\r\n                {\r\n                    !load\r\n                        ?\r\n                        <FilmsList list={list} count={count} />\r\n                        :\r\n                        <LoadData size={5} />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    count: state.films.count,\r\n    page: state.films.page,\r\n    sort_field: state.films.sort_field,\r\n    sort_direction: state.films.sort_direction,\r\n    load: state.films.load,\r\n    list: state.films.list,\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchFilms: bindActionCreators(fetchFilms, dispatch),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Films)\r\n\r\n//helper\r\n//skeleton\r\nconst LoadData = ({ size }) => {\r\n    let list = []\r\n    for (let i = 0; i < size; i++) list.push(<Skeleton title={false} loading={true} active key={i}></Skeleton>)\r\n    return list\r\n}\r\n//List\r\nconst FilmsList = ({ list, count }) =>\r\n    <div>\r\n        <Link key=\"list-loadmore-more\" to={`/add`}><Button type=\"primary\" shape=\"circle\" icon=\"file-add\" size='large' className='add-user-btn' /></Link>\r\n        {\r\n            count\r\n                ?\r\n                <ListSort />\r\n                :\r\n                \"\"\r\n        }\r\n        <List\r\n            className=\"demo-loadmore-list\"\r\n            itemLayout=\"horizontal\"\r\n            dataSource={list}\r\n            renderItem={item => <ListElement data={item} key={item.id} />}\r\n        />\r\n        {\r\n            count > 5\r\n                ?\r\n                <ListPagination />\r\n                : ''\r\n        }\r\n    </div>\r\n//ListElement\r\nconst ListElement = ({ data }) => {\r\n    let actors = ''\r\n    data.actors.map((el, i, arr) => {\r\n        actors += `${el.f_name} ${el.l_name}`\r\n        if(el.surname) actors += ` ${el.surname}`\r\n        if (i + 1 !== arr.length) actors += ', '\r\n        return el\r\n    })\r\n    return (\r\n        <React.Fragment>\r\n            <List.Item\r\n                actions={[<Link key=\"list-loadmore-more\" to={`/${data._id}`}>more</Link>]}\r\n            >\r\n                <List.Item.Meta\r\n                    title={'Name: ' + data.name}\r\n                    description={`Release: ${moment(data.release).format(\"YYYY-MM-DD\")} / Format: ${data.format}`}\r\n\r\n                />\r\n                {`Actors: ${actors}`}\r\n            </List.Item>\r\n        </React.Fragment>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport { Breadcrumb } from 'antd'\r\n\r\nconst FilmBreadcrumb = ({ breadcrumbs }) =>\r\n    <Breadcrumb\r\n        style={{ padding: '20px 50px' }}\r\n        itemRender={(route, params, routes, paths) => {\r\n            const last = routes.indexOf(route) === routes.length - 1;\r\n            return last ? (\r\n                <span>{route.breadcrumbName}</span>\r\n            ) : (\r\n                    <Link to={route.path}>{route.breadcrumbName}</Link>\r\n                );\r\n        }}\r\n        routes={breadcrumbs}\r\n    />\r\n\r\nexport default FilmBreadcrumb","import React from 'react'\r\nimport { Tag, Input, Tooltip, Icon, message } from 'antd'\r\n\r\nclass EditableTagGroup extends React.Component {\r\n    state = {\r\n        inputVisible: false,\r\n        inputValue: '',\r\n    }\r\n\r\n    handleClose = removedTag => {\r\n        const actors = this.props.actors.filter((actor, i) => i !== removedTag)\r\n        this.props.filmChangeTag(actors)\r\n    }\r\n\r\n    showInput = () => {\r\n        this.setState({ inputVisible: true }, () => this.input.focus());\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        this.setState({ inputValue: e.target.value })\r\n    }\r\n\r\n    handleInputConfirm = () => {\r\n        const { inputValue } = this.state\r\n        let { actors } = this.props\r\n        let actor = inputValue.split(' ').filter(el => el !== '')\r\n        if (actor.length === 2 || actor.length === 3) {\r\n            let el = { f_name: actor[0], l_name: actor[1] }\r\n            if(actor.length === 3) el.surname = actor[2]\r\n            actors = [...actors, el]\r\n            this.setState({\r\n                inputVisible: false,\r\n                inputValue: '',\r\n            })\r\n            this.props.filmChangeTag(actors)\r\n        } else {\r\n            message.error('Name and surname must be entered!')\r\n            this.setState({\r\n                inputVisible: false,\r\n                inputValue: '',\r\n            })\r\n        }\r\n    }\r\n\r\n    saveInputRef = input => (this.input = input)\r\n\r\n    render() {\r\n        const { inputVisible, inputValue } = this.state\r\n        const { actors } = this.props\r\n        return (\r\n            <div>\r\n                {\r\n                    actors.map((actor, i) => {\r\n                        let tag = `${actor.f_name} ${actor.l_name}`\r\n                        if(actor.surname) tag+=` ${actor.surname}`\r\n                        const isLongTag = tag.length > 20\r\n                        const tagElem = (\r\n                            <Tag key={tag} closable onClose={() => this.handleClose(i)}>\r\n                                {isLongTag ? `${tag.slice(0, 20)}...` : tag}\r\n                            </Tag>\r\n                        )\r\n                        return isLongTag ? (\r\n                            <Tooltip title={tag} key={tag}>\r\n                                {tagElem}\r\n                            </Tooltip>\r\n                        ) : (\r\n                                tagElem\r\n                            )\r\n                    })\r\n                }\r\n                {\r\n                    inputVisible && (\r\n                        <Input\r\n                            ref={this.saveInputRef}\r\n                            type=\"text\"\r\n                            size=\"small\"\r\n                            style={{ width: 100 }}\r\n                            value={inputValue}\r\n                            onChange={this.handleInputChange}\r\n                            onBlur={this.handleInputConfirm}\r\n                            onPressEnter={this.handleInputConfirm}\r\n                        />\r\n                    )\r\n                }\r\n                {\r\n                    !inputVisible && (\r\n                        <Tag onClick={this.showInput} style={{ background: '#fff', borderStyle: 'dashed' }}>\r\n                            <Icon type=\"plus\" /> New Actor\r\n                        </Tag>\r\n                    )\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default EditableTagGroup","import React from 'react'\r\nimport { Card, Icon, Popconfirm, Input, Select, DatePicker } from 'antd'\r\nimport moment from 'moment'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n//action\r\nimport { filmChangeName, filmChangeDate, filmChangeFormat, filmChangeTag, updateFilm, deleteFilm, fetchFilm } from '../store/action'\r\n//component\r\nimport FilmBreadcrumb from '../components/breadcrumb'\r\nimport EditableTagGroup from '../components/tagGroup'\r\n\r\nconst { Option } = Select\r\n\r\nlet breadcrumbs = [\r\n    {\r\n        path: '/',\r\n        breadcrumbName: 'Films',\r\n    }\r\n]\r\n\r\nclass Film extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.updateFilm = this.updateFilm.bind(this)\r\n        this.deleteFilm = this.deleteFilm.bind(this)\r\n    }\r\n    updateFilm() {\r\n        this.props.updateFilm(this.props.match.params.id, this.props.data)\r\n    }\r\n    deleteFilm() {\r\n        this.props.deleteFilm(this.props.match.params.id, this.props.history)\r\n    }\r\n    componentDidMount() {\r\n        this.props.fetchFilm(this.props.match.params.id)\r\n    }\r\n    componentDidUpdate(nextProps) {\r\n        if (nextProps.match.params.id !== this.props.match.params.id) {\r\n            this.props.fetchFilm(this.props.match.params.id)\r\n        }\r\n    }\r\n    render() {\r\n        let { load, data } = this.props\r\n        let breadcrumb = [...breadcrumbs, { breadcrumbName: load ? '...' : data.name ? data.name : 'Noname' }]\r\n        return (\r\n            <React.Fragment>\r\n                <FilmBreadcrumb breadcrumbs={breadcrumb} />\r\n                {\r\n                    load\r\n                        ?\r\n                        <LoadCard />\r\n                        :\r\n                        <RenderCard\r\n                            data={data}\r\n                            filmChangeName={this.props.filmChangeName}\r\n                            filmChangeDate={this.props.filmChangeDate}\r\n                            filmChangeFormat={this.props.filmChangeFormat}\r\n                            filmChangeTag={this.props.filmChangeTag}\r\n                            updateFilm={this.updateFilm}\r\n                            deleteFilm={this.deleteFilm}\r\n                        />\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    load: state.film.load,\r\n    data: state.film.data\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    filmChangeName: bindActionCreators(filmChangeName, dispatch),\r\n    filmChangeDate: bindActionCreators(filmChangeDate, dispatch),\r\n    filmChangeFormat: bindActionCreators(filmChangeFormat, dispatch),\r\n    filmChangeTag: bindActionCreators(filmChangeTag, dispatch),\r\n    updateFilm: bindActionCreators(updateFilm, dispatch),\r\n    deleteFilm: bindActionCreators(deleteFilm, dispatch),\r\n    fetchFilm: bindActionCreators(fetchFilm, dispatch),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Film)\r\n\r\nconst LoadCard = () =>\r\n    <Card style={{ width: 300, margin: '20px auto' }} loading={true}\r\n        actions={[\r\n            <Popconfirm\r\n                disabled\r\n                key='save'\r\n            >\r\n                <Icon type=\"save\" key='save' />\r\n            </Popconfirm>,\r\n            <Popconfirm\r\n                disabled\r\n                key='delete'\r\n            >\r\n                <Icon type=\"delete\" />\r\n            </Popconfirm>\r\n        ]}>\r\n    </Card>\r\n\r\nconst RenderCard = ({ data, filmChangeName, filmChangeDate, filmChangeFormat, filmChangeTag, updateFilm, deleteFilm }) =>\r\n    <Card\r\n        style={{ width: 300, margin: '20px auto' }}\r\n        actions={[\r\n            <Popconfirm\r\n                key='save'\r\n                title=\"Are you sure Save this Film?\"\r\n                onConfirm={updateFilm}\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n            >\r\n                <Icon type=\"save\" key='save' />\r\n            </Popconfirm>,\r\n            <Popconfirm\r\n                key='delete'\r\n                title=\"Are you sure Delete this Film?\"\r\n                onConfirm={deleteFilm}\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n            >\r\n                <Icon type=\"delete\" />\r\n            </Popconfirm>\r\n        ]}\r\n    >\r\n        <span>Name:</span>\r\n        <Input value={data.name} onChange={filmChangeName} placeholder=\"Name...\" style={{ width: '100%' }} />\r\n        <span>Release:</span>\r\n        <DatePicker\r\n            value={data.release ? moment(data.release) : null}\r\n            onChange={filmChangeDate}\r\n            style={{ width: '100%' }}\r\n            disabledDate={current => (current && current > moment().endOf('day')) || current < moment('1849-12-31').endOf('day')}\r\n        />\r\n        <span>Format:</span>\r\n        <Select value={data.format} onChange={filmChangeFormat} style={{ width: '100%' }}>\r\n            {\r\n                ['VHS', 'DVD', 'Blu-Ray'].map(el => <Option value={el} key={el}>{el}</Option>)\r\n            }\r\n        </Select>\r\n        <span>Actors:</span>\r\n        <EditableTagGroup actors={data.actors} filmChangeTag={filmChangeTag} />\r\n    </Card>","import React from 'react'\r\nimport { Card, Icon, Popconfirm, Input, Select, DatePicker } from 'antd'\r\nimport moment from 'moment'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n//action\r\nimport { filmChangeName, filmChangeDate, filmChangeFormat, filmChangeTag, saveFilm, openAdd } from '../store/action'\r\n//component\r\nimport FilmBreadcrumb from '../components/breadcrumb'\r\nimport EditableTagGroup from '../components/tagGroup'\r\n\r\nconst { Option } = Select\r\n\r\nlet breadcrumbs = [\r\n    {\r\n        path: '/',\r\n        breadcrumbName: 'Films',\r\n    },\r\n    {\r\n        path: '/add/',\r\n        breadcrumbName: 'Add',\r\n    }\r\n]\r\n\r\nclass FilmAdd extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.saveFilm = this.saveFilm.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        this.props.openAdd()\r\n    }\r\n    saveFilm() {\r\n        this.props.saveFilm(this.props.data, this.props.history)\r\n    }\r\n    render() {\r\n        let { load, data } = this.props\r\n        return (\r\n            <React.Fragment>\r\n                <FilmBreadcrumb breadcrumbs={breadcrumbs} />\r\n                {\r\n                    load\r\n                        ?\r\n                        <LoadCard />\r\n                        :\r\n                        <RenderCard\r\n                            data={data}\r\n                            filmChangeName={this.props.filmChangeName}\r\n                            filmChangeDate={this.props.filmChangeDate}\r\n                            filmChangeFormat={this.props.filmChangeFormat}\r\n                            filmChangeTag={this.props.filmChangeTag}\r\n                            saveFilm={this.saveFilm}\r\n                        />\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    load: state.film.load,\r\n    data: state.film.data\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    filmChangeName: bindActionCreators(filmChangeName, dispatch),\r\n    filmChangeDate: bindActionCreators(filmChangeDate, dispatch),\r\n    filmChangeFormat: bindActionCreators(filmChangeFormat, dispatch),\r\n    filmChangeTag: bindActionCreators(filmChangeTag, dispatch),\r\n    saveFilm: bindActionCreators(saveFilm, dispatch),\r\n    openAdd: bindActionCreators(openAdd, dispatch),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FilmAdd)\r\n\r\nconst LoadCard = () =>\r\n    <Card style={{ width: 300, margin: '20px auto' }} loading={true}\r\n        actions={[\r\n            <Popconfirm\r\n                disabled\r\n                key='save'\r\n            >\r\n                <Icon type=\"save\" key='save' />\r\n            </Popconfirm>,\r\n            <Popconfirm\r\n                disabled\r\n                key='delete'\r\n            >\r\n                <Icon type=\"delete\" />\r\n            </Popconfirm>\r\n        ]}>\r\n    </Card>\r\n\r\nconst RenderCard = ({ data, filmChangeName, filmChangeDate, filmChangeFormat, filmChangeTag, saveFilm }) =>\r\n    <Card\r\n        style={{ width: 300, margin: '20px auto' }}\r\n        actions={[\r\n            <Popconfirm\r\n                key='save'\r\n                title=\"Are you sure Save this Film?\"\r\n                onConfirm={saveFilm}\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n            >\r\n                <Icon type=\"save\" key='save' />\r\n            </Popconfirm>\r\n        ]}\r\n    >\r\n        <span>Name:</span>\r\n        <Input value={data.name} onChange={filmChangeName} placeholder=\"Name...\" style={{ width: '100%' }} />\r\n        <span>Release:</span>\r\n        <DatePicker\r\n            value={data.release ? moment(data.release) : null}\r\n            onChange={filmChangeDate}\r\n            style={{ width: '100%' }}\r\n            disabledDate={current => (current && current > moment().endOf('day')) || current < moment('1849-12-31').endOf('day')}\r\n        />\r\n        <span>Format:</span>\r\n        <Select value={data.format} onChange={filmChangeFormat} style={{ width: '100%' }}>\r\n            {\r\n                ['VHS', 'DVD', 'Blu-Ray'].map(el => <Option value={el} key={el}>{el}</Option>)\r\n            }\r\n        </Select>\r\n        <span>Actors:</span>\r\n        <EditableTagGroup actors={data.actors} filmChangeTag={filmChangeTag} />\r\n    </Card>","import React from 'react'\r\nimport { Button, Spin, Icon, message } from 'antd'\r\nimport moment from 'moment'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n//action\r\nimport { importData } from '../store/action'\r\n//component\r\nimport FilmBreadcrumb from '../components/breadcrumb'\r\n\r\nlet breadcrumbs = [\r\n    {\r\n        path: '/',\r\n        breadcrumbName: 'Films',\r\n    },\r\n    {\r\n        path: '/import/',\r\n        breadcrumbName: 'Import',\r\n    }\r\n]\r\n\r\nclass FileInput extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.fileInput = React.createRef()\r\n    }\r\n    handleSubmit(event) {\r\n        event.preventDefault()\r\n        if (this.fileInput.current.files[0]) {\r\n            let extension = this.fileInput.current.files[0].name.split('.').pop().toLowerCase()\r\n            if (extension === 'txt') {\r\n                let reader = new FileReader()\r\n                reader.readAsText(this.fileInput.current.files[0])\r\n                reader.onload = (e) => {\r\n                    let result = e.target.result\r\n                    result = result.split('\\n').filter(el => el !== '')\r\n                    let data = []\r\n                    for (let i = 0; i < result.length; i += 4) {\r\n                        let name = result[i].slice(7)\r\n                        let release = moment(result[i + 1].slice(14)).valueOf()\r\n                        let format = result[i + 2].slice(8)\r\n                        let actors = result[i + 3].slice(7).split(',').map(el => el.trim()).map(el => {\r\n                            let elements = el.split(' ')\r\n                            return {\r\n                                f_name: elements[0],\r\n                                l_name: elements[1]\r\n                            }\r\n                        })\r\n\r\n                        data.push({ name, release, format, actors })\r\n                    }\r\n                    this.props.importData(data)\r\n                }\r\n            } else {\r\n                message.error('Error file type!')\r\n            }\r\n        } else {\r\n            message.error('PLS Select File!')\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <FilmBreadcrumb breadcrumbs={breadcrumbs} />\r\n                <div className='import-form'>\r\n                    {\r\n                        this.props.load\r\n                            ?\r\n                            <Spin indicator={<Icon type=\"loading\" style={{ fontSize: 24 }} spin />} />\r\n                            :\r\n                            <label>\r\n                                Select File PLS!\r\n                                        <input type=\"file\" ref={this.fileInput} name=\"file\" />\r\n                            </label>\r\n\r\n                    }\r\n                    <Button onClick={this.handleSubmit} disabled={this.props.load}>Import</Button>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => ({\r\n    load: state.import.load,\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    importData: bindActionCreators(importData, dispatch),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FileInput)","import React from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\"\r\n//menu\r\nimport Menu from './menu'\r\n//pages\r\nimport Page404 from '../pages/404'\r\nimport Films from '../pages/films'\r\nimport Film from '../pages/film'\r\nimport Add from '../pages/add'\r\nimport Import from '../pages/import'\r\n\r\nconst PageRouter = () =>\r\n  <Router>\r\n    <Menu />\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Films} />\r\n      <Route exact path=\"/import\" component={Import} />\r\n      <Route exact path=\"/add\" component={Add} />\r\n      <Route exact path=\"/:id\" component={Film} />\r\n      <Route component={Page404} />\r\n    </Switch>\r\n  </Router>\r\n  \r\nexport default PageRouter\r\n","export const initialState = {\r\n    films: {\r\n        list: [],\r\n        count: 0,\r\n        page: 1,\r\n        sort_field: 'name',\r\n        sort_direction: 'asc',\r\n        load: false,\r\n    },\r\n    film: {\r\n        data: {\r\n            name: '',\r\n            release: '',\r\n            format: '',\r\n            actors: []\r\n        },\r\n        load: false,\r\n    },\r\n    search: {\r\n        value: '',\r\n        result: []\r\n    },\r\n    import: {\r\n        load: false,\r\n    }\r\n}\r\n\r\nexport function reduser(state = initialState, action) {\r\n    switch (action.type) {\r\n        //films\r\n        case 'START_LOAD_FILMS':\r\n            return { ...state, films: { ...state.films, load: true, page: action.payload.page, sort_field: action.payload.sort_field, sort_direction: action.payload.sort_direction } }\r\n        case 'FAILED_LOAD_FILMS':\r\n            return { ...state, films: { ...state.films, load: false } }\r\n        case 'SUCCESS_LOAD_FILMS':\r\n            return { ...state, films: { ...state.films, load: false, list: action.payload.list, count: action.payload.count } }\r\n        //film\r\n        case 'START_LOAD_FILM':\r\n            return {\r\n                ...state, film: {\r\n                    ...state.film, load: true,\r\n                    name: '',\r\n                    release: '',\r\n                    format: '',\r\n                    actors: []\r\n                }\r\n            }\r\n        case 'FAILED_LOAD_FILM':\r\n            return { ...state, film: { ...state.film, load: false } }\r\n        case 'SUCCESS_LOAD_FILM':\r\n            return { ...state, film: { ...state.film, load: false, data: action.payload } }\r\n        case 'CHANGE_NAME':\r\n            return { ...state, film: { ...state.film, data: { ...state.film.data, name: action.payload } } }\r\n        case 'CHANGE_DATE':\r\n            return { ...state, film: { ...state.film, data: { ...state.film.data, release: action.payload } } }\r\n        case 'CHANGE_FORMAT':\r\n            return { ...state, film: { ...state.film, data: { ...state.film.data, format: action.payload } } }\r\n        case 'CHANGE_TAG':\r\n            return { ...state, film: { ...state.film, data: { ...state.film.data, actors: action.payload } } }\r\n        case 'FAILED_CREATE':\r\n            return { ...state, film: { ...state.film, load: false } }\r\n        case 'FAILED_DELETE':\r\n            return { ...state, film: { ...state.film, load: false } }\r\n        case 'FAILED_UPDATE':\r\n            return { ...state, film: { ...state.film, load: false } }\r\n        //add\r\n        case 'OPEN_ADD_START':\r\n            return {\r\n                ...state, film: {\r\n                    ...state.film, load: true, data: {\r\n                        name: '',\r\n                        release: '',\r\n                        format: '',\r\n                        actors: []\r\n                    }\r\n                }\r\n            }\r\n        case 'OPEN_ADD_END':\r\n            return {\r\n                ...state, film: {\r\n                    ...state.film, load: false, data: {\r\n                        name: '',\r\n                        release: '',\r\n                        format: '',\r\n                        actors: []\r\n                    }\r\n                }\r\n            }\r\n        //search\r\n        case 'CHANGE_SEARCH_INPUT':\r\n            return { ...state, search: { ...state.search, value: action.payload } }\r\n        case 'OPEN_FILM':\r\n            return { ...state, search: { ...state.search, value: '', result: [] } }\r\n        case 'CHANGE_SEARCH_RESULT':\r\n            return { ...state, search: { ...state.search, result: action.payload } }\r\n        //import=\r\n        case 'IMPORT_START':\r\n            return { ...state, import: { load: true, } }\r\n        case 'IMPORT_END':\r\n            return { ...state, import: { load: false, } }\r\n        default:\r\n            return state\r\n    }\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { reduser, initialState } from './reduser';\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n    reduser,\r\n    initialState,\r\n    applyMiddleware(...middleware),\r\n);\r\n\r\nexport default store;","import React from 'react'\r\nimport { Provider } from 'react-redux'\r\n//router\r\nimport Router from './components/router'\r\n//store\r\nimport store from './store/store'\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <Router />\r\n      </Provider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport 'antd/dist/antd.css'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}